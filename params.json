{"name":"Web Scraper","tagline":"Web Scraper is a library to build APIs by scraping static sites and use data as models.","body":"# Web Scraper\r\n\r\nWeb Scraper is a library to build APIs by scraping static sites and use data as models.\r\n\r\n## Installation\r\n\r\n    gem install web_scraper\r\n\r\n    require 'web_scraper'\r\n\r\n## Usage\r\n\r\n**Example**\r\n\r\n```ruby\r\nrequire 'web_scraper'\r\n\r\nclass Article < WebScraper\r\n  resource 'http://hbswk.hbs.edu/topics/it.html'\r\n\r\n  base css: '.tile-medium'\r\n\r\n  property :title,       xpath: './/h4/a/text()'\r\n  property :date,        xpath: './/li[1]/text()'\r\n  property :category,    xpath: './/li[2]/a/text()'\r\n  property :description, xpath: './/p/text()'\r\n\r\n  key :title\r\nend\r\n\r\nputs \"#{Article.count} articles were found\"\r\nputs\r\n\r\narticles = Article.all\r\n\r\narticles.each do |article|\r\n  header = article.title\r\n  puts header\r\n  puts '=' * header.length\r\n  puts\r\n\r\n  subheader = \"#{article.date} #{article.category}\"\r\n  puts subheader\r\n  puts '-' * subheader.length\r\n  puts\r\n\r\n  puts article.description\r\n  puts\r\nend\r\n\r\narticle =  Article.find('Tech Investment the Wise Way')\r\n\r\nputs article.description\r\n```\r\n\r\n**Output**\r\n\r\n    Optimal Auction Design and Equilibrium Selection in Sponsored Search Auctions\r\n    =============================================================================\r\n\r\n    14 Jan 2010 Working Papers\r\n    --------------------------\r\n\r\n    Reserve prices may have an important impact on search advertising marketplaces. But the effect of reserve prices can be opaque, particularly because it is not always straightforward to compare \"before\" and \"after\" conditions. HBS professor Benjamin G. Edelman and Yahoo's Michael Schwarz use a pair of mathematical models to predict responses to reserve prices and understand which advertisers end up paying more.\r\n\r\n    The IT Leaderâ€™s Hero Quest\r\n    ==========================\r\n\r\n    11 May 2009 Research & Ideas\r\n    ----------------------------\r\n\r\n    Think you could be CIO? Jim Barton is a savvy manager but an IT newbie when he's promoted into the hot seat as chief information officer in , a novel by HBS professors  and  and coauthor . Can Barton navigate his strange new world quickly enough? Q&A with the authors, and book excerpt.\r\n\r\n## Reference\r\n\r\n**WebScraper.all**  \r\n*Loads html page, detects appropriate blocks,  \r\nwraps them in objects.  \r\nThe result will be cached.*\r\n\r\n    articles = Article.all\r\n\r\n**WebScraper.count**  \r\n*Returns number of objects found.*\r\n\r\n    puts \"#{Article.count} articles were found\"\r\n\r\n**WebScraper.reset**  \r\n*Resets cache of the html data.*\r\n\r\n    Article.reset\r\n\r\n**WebScraper.find(key)**  \r\n*Finds first object with required key.*\r\n\r\n    article = Article.find('Tech Investment the Wise Way')\r\n\r\n**WebScraper.resource(_resource)**  \r\n*Defines resource -- url of the html page.*\r\n\r\n    class Article < WebScraper\r\n      ...\r\n      resource 'http://hbswk.hbs.edu/topics/it.html'\r\n      ...\r\n    end\r\n\r\n**WebScraper.base(_base)**  \r\n*Defines base -- selector which determines blocks of content.  \r\nYou can use css or xpath selectors.*\r\n\r\n    class Article < WebScraper\r\n      ...\r\n      base css: '.tile-medium'\r\n      ...\r\n    end\r\n\r\n**WebScraper.property(*args)**  \r\n*Defines property -- name (and type optionally) and selector.  \r\nYou can use css or xpath selectors.  \r\nTypes determine returning values.  \r\nAvailable types (default is string): string, integer, float, node.  \r\nThe node option means nokogiri node.*\r\n\r\n    class Article < WebScraper\r\n      ...\r\n      property :title,           xpath: './/h4/a/text()'\r\n      property  views: :integer, xpath: './/h4/span/text()'\r\n      ...\r\n    end\r\n\r\n**WebScraper.key(_key)**  \r\n*Defines key -- property which will be used in find method.*\r\n\r\n    class Article < WebScraper\r\n      ...\r\n      key :title\r\n      ...\r\n    end\r\n\r\n**WebScraper#css(*args)**  \r\n*Allows you to use nokogiri css method directly on your object.  \r\nIt proxies it to nokogiri node.*\r\n\r\n**WebScraper#xpath(*args)**  \r\n*Allows you to use nokogiri xpath method directly on your object.  \r\nIt proxies it to nokogiri node.*\r\n\r\n**WebScraper#property**  \r\n**WebScraper#method_missing(name, *args, &block)**  \r\n*Returns appropriate value for property if found.  \r\nConverts it to the defined type.*\r\n\r\n    puts article.description\r\n\r\n**Author (Speransky Danil):**\r\n[Personal Page](http://dsperansky.info) |\r\n[LinkedIn](http://ru.linkedin.com/in/speranskydanil/en) |\r\n[GitHub](https://github.com/speranskydanil?tab=repositories) |\r\n[StackOverflow](http://stackoverflow.com/users/1550807/speransky-danil)\r\n\r\n","google":"UA-48799405-1","note":"Don't delete this file! It's used internally to help with page regeneration."}